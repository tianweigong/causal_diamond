<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="static/css/styles.css">
	<script src="static/lib/jquery.min.js"></script>
	<script src="static/js/stimuli.js"></script>
	<title>Experiment</title>
</head>
<body>
	<div id="consent">
		<h1> University of Edinburgh, Psychology</h1>
		<div class="frame_big">
			<p>
			<b>Nature of the study:</b> You are invited to participate in a study which involves reading sentences carefully and answering questions about them. Once you finish, we may have also some questions about your experience (e.g., age, gender, language background). Your responses will be recorded. Your session should last for up to 20 minutes. You will be given full instructions shortly.
			</p>
            <p>
            <b>Compensation:</b> You will be paid $1 for your participation in this study.
    		</p>
    		<p>
    		<b>Risks and benefits:</b> There are no known risks to participation in this study. Other than the payment mentioned, there no tangible benefits to you, however you will be contributing to our knowledge about language.  
    		</p>
    		<p>
    		<b>Confidentiality and use of data:</b> All the information we collect during the course of the research will be processed in accordance with Data Protection Law. In order to safeguard your privacy, we will never share personal information (like names or dates of birth) with anyone outside the research team. Your data will be referred to by a unique participant number rather than by name. Please note that we will temporarily collect your worker ID to prevent repeat participation, however we will never share this information with anyone outside the research team. We will store any personal data (e.g., audio/video recordings, signed forms) using the University of Edinburgh’s secure encrypted storage service or in a locked filing cabinet at the University of Edinburgh. The anonymised data collected during this study will be used for research purposes.
    		</p>
    		<p>
    		<b>What are my data protection rights:</b> The University of Edinburgh is a Data Controller for the information you provide.  You have the right to access information held about you. Your right of access can be exercised in accordance Data Protection Law. You also have other rights including rights of correction, erasure and objection.  For more details, including the right to lodge a complaint with the Information Commissioner’s Office, please visit www.ico.org.uk.  Questions, comments and requests about your personal data can also be sent to the University Data Protection Officer at dpo@ed.ac.uk.
    		</p>
    		<p>
    		<b>Voluntary participation and right to withdraw:</b> Your participation is voluntary, and you may withdraw from the study at any time and for any reason. If you withdraw from the study during or after data gathering, we will delete your data and there is no penalty or loss of benefits to which you are otherwise entitled.
    		</p>
    		<p>
    		<b>If you have any questions about what you’ve just read, please feel free to ask, or contact us later. You can contact us by email at bramleylab@ed.ac.uk. This project has been approved by PPLS Ethics committee. If you have questions or comments regarding your own or your child’s rights as a participant, they can be contacted at 0131 650 4020 or ppls.ethics@ed.ac.uk.</b>
    		</p>
    		<p>
    		By electing the "I Agree" button below, you consent to the following:
    		<ul>
    			<li>I agree to participate in this study.</li>
    			<li>I confirm that I have read and understood how my data will be stored and used.</li>
    			<li>I understand that I have the right to terminate this session at any point. If I choose to withdraw after completing the study, my data will be deleted at that time.</li>
    		</ul>
    		</p>


		</div>
		<div class="button_panel">
			<button type="button" class="next" id = "i_agree" onclick="ConsentClick()"> ✔ I Agree</button>
		</div>
	</div>

	<div id="instruction">
		<h1> Instructions</h1>
		<div id="ins_pre">
			<div class="frame_big">
				<h1>Thank you for participating in this study!</h1>
				<p>Please read the instructions very carefully!</p> 
				<p><b>You will have to pass a test on your understanding before you can start the experiment. </b></p>
				<p style="color: red">Please minimize the chances of possible distractions (please switch off messengers, email, music,...)! </p>
				<p>Please make this window as large as possible (full screen best).Please do not refresh this page during the experiment.</p>
				<p>Click <b>Next</b> to move onto the instructions.</p>
			</div>
		</div>
		<div id="ins1">
			<div class="frame_big">
				<p>In this task, you will watch video clips and then try to figure out the connections between the components of several causal devices. The causal devices look like this:</p>
				<img id="figure_1" src="static/images/ins1.png">
				<p>Each device has two <b>control components</b> (buttons on the left) and one <b>target component</b> (diamond shaped on the right). </p>

	            <p>Click <b>Next</b> to move onto the next instructions.</p>
			</div>
		</div>
		<div id="ins_baserate">
			<div class="frame_big">
				<p><b>The target component</b> tends to activate fairly regularly. Each time it activates it lights up yellow for a short time. Watch this video to get some experience of how the target component behaves. </p>
				<div id="frame_training_baserate">
				</div>
				<button class="button_training" id="button_training_baserate" onclick="Training('baserate',26)">Start</button>
			</div>
		</div>
		<div id="ins_baserate_over">
			<div class="frame_big">
				<p>So, as you can see, it happens about once every five seconds all by itself.  However, <b>the control components</b> might affect this.</p>
				<p>Clicking on either control component might have an effect on the target component.</p>
				<p>There are three ways that a control component might influence the effect component.  It might <b>generate</b> an additional activation of the target.  It might <b>prevent</b> the next activation(s) of the target. Or it might have <b>no effect</b> on the target.</p>
				<p>Your task will be to figure out what kind of influence the two control components have on the target component for each device.</p>
				<p>Click <b>Next</b> to move onto the next instructions.</p>
			</div>
		</div>
		<div id="ins_type_generative">
			<div class="frame_big">
	            	<p><b>Generative connection: </b>Generative components will produce an extra activation of the target component, usually within 1-2 seconds.</p>
	            	<p>Click <b>Start</b> to watch an example of a component with a generative connection.  The hand symbol indicates each time someone activates the control component (remember the target component can regularly light up itself).</p>
	            	<div class="frame_training" id="frame_training_generative">
	            	</div>
	            	<button class="button_training" id="button_training_generative" onclick="Training('generative',24)">Start</button>
	    	</div>
		</div>
		<div id="ins_type_preventative">
			<div class="frame_big">
					<p><b>Preventative connection: </b>Preventative components will block all activations of the diamond for a short period (2-4 seconds), no matter whether those activations were produced by a generative connections or happened by self-activation.</p>
	            	<p>Click <b>Start</b> to watch the preventative connection demo (remember the target component can regularly light up itself).</p>
	            	<div class="frame_training" id="frame_training_preventative">
	            	</div>
	            	<button class="button_training" id="button_training_preventative" onclick="Training('preventative',24)">Start</button>
			</div>
		</div>
		<div id="ins_type_noncausal">
			<div class="frame_big">
					<p><b>Non-causal cnnection: </b>Unconnected control components have no impact on the target component.</p>
	            	<p>Click <b>Start</b> to watch the unconnected control component demo (remember the target component can regularly light up itself).</p>
	            	<div class="frame_training" id="frame_training_noncausal">
	            	</div>
	            	<button class="button_training" id="button_training_noncausal" onclick="Training('noncausal',24)">Start</button>
			</div>
		</div>
		<div id="bonus_reminder">
			<div class="frame_big">
				<p> For each device, you will get to watch a video clip in which someone click on each control component several times.</p>
				<p>Your task is to identify the two connections from the control components to the target component. Each of these two connections can either be generative, preventative, or non-causal (no connection between the specific control component and target component).</p>
				<p>The total duration of a clip is <b>20 seconds</b>. At the beginning of a clip, the target component will self-activate. After 20 seconds it is not possible to observe further activations of any component even when it should activate.</p>
				<p>Each clip <b>can only be played once</b>. So please focus while watching the clip and try to understand the relationships between control components and target component. If you feel tired during the experiment, you can take a break between trials.</p>
				<p>You will get a <b>bonus</b> of 3 cents for each correctly identified connection per device. The maximum payment for completing the 19 devices is thus $1.14 (plus your basic payment of $1.00)</p>
				<p>You can respond by left clicking the grey area during or after each clip:</p>
				<img id="how_to_click" src="static/images/ins2.png">
				<p>You can always change your answers before you submit them. After submitting your answers, you will automatically be directed to the next trial.</p>
				<p>Click <b>Next</b> to move onto the comprehension check.</p>
			</div>
		</div>
		<div id="check">
			<div class="frame_big">
				<p> Comprehension check: To make sure you understand the instructions, now please indicate for each statement whether it is correct or false.</p>
				<form>
					<p>"Your job is to work out what kind connection there is between the two control components and the target component in each device."</p>
					<input type="radio" name="check1" value="yes" id="check1_yes" required="required" onclick="CheckClick()"><label for="check1_yes">Correct</label>
					<input type="radio" name="check1" value="no" id="check1_no" required="required" onclick="CheckClick()"><label for="check1_no">False</label>
					<p>"The target component never activates by itself."</p>
					<input type="radio" name="check2" value="yes" id="check2_yes" required="required" onclick="CheckClick()"><label for="check2_yes">Correct</label>
					<input type="radio" name="check2" value="no" id="check2_no" required="required" onclick="CheckClick()"><label for="check2_no">False</label>
					<p>"The delays between the activations are perfectly reliable."</p>
					<input type="radio" name="check3" value="yes" id="check3_yes" required="required" onclick="CheckClick()"><label for="check3_yes">Correct</label>
					<input type="radio" name="check3" value="no" id="check3_no" required="required" onclick="CheckClick()"><label for="check3_no">False</label>
					<p>"If a preventative control component is activated, all activations of the target component will be blocked for a short time."</p>
					<input type="radio" name="check4" value="yes" id="check4_yes" required="required" onclick="CheckClick()"><label for="check4_yes">Correct</label>
					<input type="radio" name="check4" value="no" id="check4_no" required="required" onclick="CheckClick()"><label for="check4_no">False</label>
					<p>"One activation of a generative control component will always produce an activation of the target component unless this is prevented by a  preventative control component activation."</p>
					<input type="radio" name="check5" value="yes" id="check5_yes" required="required" onclick="CheckClick()"><label for="check5_yes">Correct</label>
					<input type="radio" name="check5" value="no" id="check5_no" required="required" onclick="CheckClick()"><label for="check5_no">False</label>
					<p>"You get a 3c bonus for each connection you identify correctly."</p>
					<input type="radio" name="check6" value="yes" id="check6_yes" required="required" onclick="CheckClick()"><label for="check6_yes">Correct</label>
					<input type="radio" name="check6" value="no" id="check6_no" required="required" onclick="CheckClick()"><label for="check6_no">False</label>
				</form>
			</div>		
		</div>
		<div id="welldone">
			<div class="frame_big">
				<p>Well done, you got all the questions correct!</p>
				<p>You are now ready to start the task.</p>
				<p>The first problem is practice, then you will be playing for points.</p>
				<p>Please click <b>Next</b> to proceed.</p>
        	</div>
		</div>
		<div id="checkagain">
			<div class="frame_big">
				<p>Unfortunately, you didn't answer all of the comprehension check questions correctly.</p>
				<p>Please have another close look at the instructions and work out whether those statements are correct or false.</p>
        	</div>
		</div>
		<div class ="button_panel">
			<button type="button" id="ins_backward" onclick="InsPrevClick()"> ← Previous </button>
			<button type="button" id="ins_forward" onclick="InsNextClick()">  Next → </button>
		</div>
	</div>

	<div id="experiment">
		<h1>Experiment</h1>
		<div class="frame_big">
			<div class="frame_progress">
				<p id="progress_text">Progress:</p>
				<div id="progress_container"><div id="progress_indicator"></div></div>
			</div>
			<div class="frame_reminder">
				<ul id="reminder">
		          <li>Each clip lasts <b>20 seconds</b>, begins with a self-activation of the target component, and <b> can only be played once</b>.</li>
		          <li>You can mark what connections you think during or after the clip <b>by clicking the grey connection area</b>.</li>
		          <li>Left click once: generative <span style="background-color:#ededed;font-weight: bold; color: black">-></span>; twice: preventative<span style="background-color:#ededed;font-weight: bold; color: red">-></span>; three times/no click: non-causal <span style="background-color:#ededed;font-weight: bold; color: #ededed">-></span>.</li>
	        	</ul>
	        	<p id="trial_title">Device 0 of 19 (PRACTICE)</p>
			</div>
			<div id="frame_main">
				<div class="frame_button" id="frame_button_A">
		    		<div class="light_button" id="light_button_A"></div>
		    		<div class="frame_hand" id="frame_hand_A"><img class="hand" src="static/images/hand.png"></div>
	    		</div>
				<div class="frame_button" id="frame_button_B">
		    		<div class="light_button" id="light_button_B"></div>
		    		<div class="frame_hand" id="frame_hand_B"><img class="hand" src="static/images/hand.png"></div>
	    		</div>
	    		<div class="light_bulb" id="frame_bulb"></div>
	    		<div class="frame_line" id="frame_line_A" onclick="ClickA()">
		    			<div class="arrow_line" id="arrow_line_A"></div>
		    			<div class="arrow_point" id="arrow_point_A"></div>
	    		</div>
	    		<div class="frame_line" id="frame_line_B" onclick="ClickB()">
		    			<div class="arrow_line" id="arrow_line_B"></div>
		    			<div class="arrow_point" id="arrow_point_B"></div>
	    		</div>
	    		<!-- <div id="clip_end">This clip has ended.</div> -->
			</div>
			<p id="hint">&nbsp</p>
		</div>
		<div class ="button_panel">
			<button type="button" id="exp_start" onclick="TrialStart()">Start</button>
			<button type="button" id="exp_next" disabled ="true" onclick="TrialNext()">Next</button>
		</div>
	</div>
	<div id="survey">
		<h1>Thanks - you're almost done!</h1>
		<div class="frame_big">
			<p>Please use the interface below to provide us with some feedback about the task.</p>
			<p><span style="color: red">*</span>Age</p>
				<input type="number" name="age" id="age">
			<p><span style="color: red">*</span>Gender</p>
				<select name="gender" id="gender" onchange="SurveyClick()">
					<option id="gender_unselected" value="--" SELECTED>
	                <option value="female">Female</option>
	                <option value="male">Male</option>
	                <option value="other">Other</option>
	                <option value="noresponse">I'd prefer not to respond</option>
	            </select>
            <p><span style="color: red">*</span>On a scale of 1-10 (where 10 is the most engaged), please rate how <b>ENGAGING</b> you found the learning task:</p>
            	<select name="engaging" id="engaging" onchange="SurveyClick()">
	                <option id="engaging_unselected" value="--" SELECTED>
                    <option value="10">10 - Very engaging</option>
                    <option value="9">9</option>
                    <option value="8">8</option>
                    <option value="7">7</option>
                    <option value="6">6</option>
                    <option value="5">5 - Moderately</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                    <option value="0">0 - Not engaged</option>
	            </select>
            <p><span style="color: red">*</span>On a scale of 1-10 (where 10 is the most difficult), please rate how <b>DIFFICULT</b> you found the learning task:</p>
            	<select name="difficult" id="difficult" onchange="SurveyClick()">
                    <option id="difficult_unselected" value="--" SELECTED>
                    <option value="10">10 - Very difficult</option>
                    <option value="9">9</option>
                    <option value="8">8</option>
                    <option value="7">7</option>
                    <option value="6">6</option>
                    <option value="5">5 - Moderately difficult</option>
                    <option value="4">4</option>
                    <option value="3">3</option>
                    <option value="2">2</option>
                    <option value="1">1</option>
                    <option value="0">0 - Not difficult at all</option>
	            </select>
            <p>(Optional) Feedback: Please write down the strategies or principles you used to solve the problems. Comments and advice on how this experiment could be improved are also welcome.</p>
            <textarea id='text_feedback' rows="4" cols="100"></textarea>
		</div>
		<button type="button" id="survey_submit" onclick="SaveData()">Submit</button>
	</div>
	<div id="experiment_finished">
		<h1>Thank you for participating!</h1>
		<div class="frame_big">
			<p>The experiment finished.</p>
			<h1 id="give_ID"></h1>
			<p id="finish_info"></p>
		</div>
	</div>
</body>
	<script src="static/js/script.js"></script>
</html>